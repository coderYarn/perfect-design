(self.webpackChunkperfect_map=self.webpackChunkperfect_map||[]).push([[433],{20539:function(t,c,e){"use strict";e.r(c);var M=e(36047),f=e(89884),s=e(17210),r=function(){return(0,s.jsx)(f._,{akay:"a7a90e05a37d3f6bf76d4a9032fc9129",children:(0,s.jsx)(f.D,{style:{height:300}})})};c.default=r},22996:function(t,c,e){"use strict";e.r(c),e.d(c,{default:function(){return R}});var M=e(7863),f=e.n(M),s=e(36047),r=e(89884),l=Object.defineProperty,m=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=(u,p,d)=>p in u?l(u,p,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[p]=d,O=(u,p)=>{for(var d in p||(p={}))n.call(p,d)&&T(u,d,p[d]);if(m)for(var d of m(p))S.call(p,d)&&T(u,d,p[d]);return u};const q=u=>React.createElement("svg",O({className:"punctuation_svg__icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:32,height:32},u),React.createElement("path",{d:"M532.1 918.9c-9.1 11-25.5 12.6-36.5 3.4-1.2-1-2.4-2.2-3.4-3.4-154.6-186.6-245.7-319-273.2-397.3-12-34.3-18.2-70.4-18.1-106.7 0-174.9 139.4-316.7 311.3-316.7S823.4 240 823.4 414.9c0 37.7-6.5 73.9-18.4 107.4-27.5 78.1-118.6 210.3-272.9 396.6zm-20-398.4c57.3 0 103.8-47.3 103.8-105.6s-46.4-105.5-103.8-105.5-103.8 47.2-103.8 105.5 46.5 105.6 103.8 105.6z",fill:"#1296db"}));var J="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxwYXRoIGQ9Ik01MzIuMSA5MTguOWMtOS4xIDExLTI1LjUgMTIuNi0zNi41IDMuNC0xLjItMS0yLjQtMi4yLTMuNC0zLjQtMTU0LjYtMTg2LjYtMjQ1LjctMzE5LTI3My4yLTM5Ny4zLTEyLTM0LjMtMTguMi03MC40LTE4LjEtMTA2LjcgMC0xNzQuOSAxMzkuNC0zMTYuNyAzMTEuMy0zMTYuN1M4MjMuNCAyNDAgODIzLjQgNDE0LjljMCAzNy43LTYuNSA3My45LTE4LjQgMTA3LjQtMjcuNSA3OC4xLTExOC42IDIxMC4zLTI3Mi45IDM5Ni42em0tMjAtMzk4LjRjNTcuMyAwIDEwMy44LTQ3LjMgMTAzLjgtMTA1LjZzLTQ2LjQtMTA1LjUtMTAzLjgtMTA1LjUtMTAzLjggNDcuMi0xMDMuOCAxMDUuNSA0Ni41IDEwNS42IDEwMy44IDEwNS42eiIgZmlsbD0iIzEyOTZkYiIvPjwvc3ZnPg==",V=Object.defineProperty,B=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,h=(u,p,d)=>p in u?V(u,p,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[p]=d,a=(u,p)=>{for(var d in p||(p={}))ee.call(p,d)&&h(u,d,p[d]);if(B)for(var d of B(p))k.call(p,d)&&h(u,d,p[d]);return u};const w=u=>React.createElement("svg",a({className:"greenPun_svg__icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:32,height:32},u),React.createElement("path",{d:"M532.1 918.9c-9.1 11-25.5 12.6-36.5 3.4-1.2-1-2.4-2.2-3.4-3.4-154.6-186.6-245.7-319-273.2-397.3-12-34.3-18.2-70.4-18.1-106.7 0-174.9 139.4-316.7 311.3-316.7S823.4 240 823.4 414.9c0 37.7-6.5 73.9-18.4 107.4-27.5 78.1-118.6 210.3-272.9 396.6zm-20-398.4c57.3 0 103.8-47.3 103.8-105.6s-46.4-105.5-103.8-105.5-103.8 47.2-103.8 105.5 46.5 105.6 103.8 105.6z",fill:"#1afa29"}));var C="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxwYXRoIGQ9Ik01MzIuMSA5MTguOWMtOS4xIDExLTI1LjUgMTIuNi0zNi41IDMuNC0xLjItMS0yLjQtMi4yLTMuNC0zLjQtMTU0LjYtMTg2LjYtMjQ1LjctMzE5LTI3My4yLTM5Ny4zLTEyLTM0LjMtMTguMi03MC40LTE4LjEtMTA2LjcgMC0xNzQuOSAxMzkuNC0zMTYuNyAzMTEuMy0zMTYuN1M4MjMuNCAyNDAgODIzLjQgNDE0LjljMCAzNy43LTYuNSA3My45LTE4LjQgMTA3LjQtMjcuNSA3OC4xLTExOC42IDIxMC4zLTI3Mi45IDM5Ni42em0tMjAtMzk4LjRjNTcuMyAwIDEwMy44LTQ3LjMgMTAzLjgtMTA1LjZzLTQ2LjQtMTA1LjUtMTAzLjgtMTA1LjUtMTAzLjggNDcuMi0xMDMuOCAxMDUuNSA0Ni41IDEwNS42IDEwMy44IDEwNS42eiIgZmlsbD0iIzFhZmEyOSIvPjwvc3ZnPg==",y=e(34342),i=e(40690),E=e(17210);function I(){var u=(0,s.useRef)(null),p=(0,s.useState)([116.397428,39.90923]),d=f()(p,2),Z=d[0],D=d[1],Y=(0,i.fx)(),b=Y.map,G=Y.state,H=(0,y.S)({container:u.current,center:[116.397428,39.90923],zoom:10}),te=H.setContainer,X=[{title:"\u7AF9\u82D1\u5E02\u573A",groups:"blue",position:{lng:113.397799,lat:22.51511},icon:J},{title:"\u5B8F\u5B87\u5927\u53A6",position:{lng:113.399883,lat:22.51235},groups:"blue",icon:J},{title:"\u5B9D\u5229\u5927\u53A6",position:{lng:113.401555,lat:22.51464},groups:"green",icon:C},{title:"\u7AF9\u82D1\u5C0F\u5B66",position:{lng:113.398724,lat:22.518455},groups:"green",icon:C}];(0,s.useEffect)(function(){if(b){var g=new AMap.Marker({position:[116.405285,39.904989],offset:new AMap.Pixel(-13,-30)}),A=new AMap.Marker({position:new AMap.LngLat(116.32945,39.939772)});b.add(A),g.setMap(G.map)}},[b]);var oe=function(A){console.log(A)},re=(0,i.fx)(),ne=function(){console.log(re),Marker};return(0,E.jsxs)("div",{style:{height:"300px",width:"750px"},children:[(0,E.jsx)("button",{onClick:ne,children:"+"}),(0,E.jsx)(r._,{akay:"9ba7e2f5c979b67281c5833918d6dfa0",children:(0,E.jsx)(r.D,{center:Z,mapStyle:"amap://styles/darkblue"})})]})}var R=I},40690:function(t,c,e){"use strict";e.d(c,{E3:function(){return r},I6:function(){return l},_y:function(){return m},fx:function(){return n}});var M=e(76091),f=e.n(M),s=e(36047),r={map:void 0,AMap:void 0,container:void 0},l=function(T,O){return f()(f()({},T),O)},m=s.createContext({state:r,dispatch:function(){return null}});function n(){var S=(0,s.useContext)(m),T=S.state,O=S.dispatch;return f()(f()({},T),{},{state:T,dispatch:O})}},34342:function(t,c,e){"use strict";e.d(c,{S:function(){return k}});var M=e(76091),f=e.n(M),s=e(7863),r=e.n(s),l=e(10255),m=e.n(l),n=e(36047);function S(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];w.forEach(function(C){var y="set".concat(C),i="".concat(C.charAt(0).toLowerCase()).concat(C.slice(1)),E=(0,n.useState)(a[i]),I=r()(E,2),R=I[0],u=I[1];(0,n.useEffect)(function(){h&&a[i]!==void 0&&a[i]!==R&&h[y]&&typeof h[y]=="function"&&(h[y](a[i]),u(a[i]))},[h,a[i]])})}function T(h){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],C=arguments.length>3?arguments[3]:void 0;w.forEach(function(y){var i=y,E=a[i];(0,n.useEffect)(function(){if(h){var I=y.toLocaleLowerCase().replace(/^on/,"");return E&&I&&h.on(I,E),function(){I&&E&&h.off(I,E)}}},[h,a[i]])})}var O=T,q=e(39620),J=e.n(q);function V(h){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];w.forEach(function(C){var y=C,i=(0,n.useState)(a[y]),E=r()(i,2),I=E[0],R=E[1];(0,n.useEffect)(function(){if(h&&a[y]!==void 0&&a[y]!==I){var u=h.getStatus();h.setStatus(f()(f()({},u),{},J()({},y,a[y]))),R(a[y])}},[h,a[y]])})}var B=e(40690),ee={zoom:1},k=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=Object.assign({},(m()(a),a)),C=(0,n.useState)(),y=r()(C,2),i=y[0],E=y[1],I=(0,n.useState)(a.zoom||15),R=r()(I,2),u=R[0],p=R[1],d=(0,n.useState)(a.container),Z=r()(d,2),D=Z[0],Y=Z[1],b=(0,n.useContext)(B._y),G=b.dispatch;return(0,n.useEffect)(function(){if(D&&!i&&AMap){D.className=D.className+" react-amap-wapper";var H=new AMap.Map(D,f()({zoom:u},w));E(H)}return function(){i&&(i.clearInfoWindow(),i.clearLimitBounds(),i.clearMap(),i.destroy(),E(void 0))}},[D,i]),(0,n.useEffect)(function(){return i&&D&&G({map:i,container:D,AMap}),function(){G({map:void 0,container:void 0,AMap:void 0})}},[i,D]),(0,n.useMemo)(function(){i&&typeof a.zoom=="number"&&u!==a.zoom&&a.zoom>=2&&a.zoom<=20&&(p(a.zoom),i.setZoom(a.zoom))},[u,a.zoom]),(0,n.useMemo)(function(){a.center&&i&&i.setCenter(a.center)},[i,a.center]),V(i,a,["dragEnable","zoomEnable","jogEnable","pitchEnable","rotateEnable","animateEnable","keyboardEnable"]),S(i,a,["Zoom","LabelzIndex","Layers","City","Bounds","LimitBounds","Lang","Rotation","DefaultCursor","MapStyle","Features","DefaultLayer","Pitch"]),O(i,a,["onMouseMove","onZoomChange","onMapMove","onMouseWheel","onZoomStart","onMouseOver","onMouseOut","onDblClick","onClick","onZoomEnd","onMoveEnd","onMouseUp","onMouseDown","onRightClick","onMoveStart","onDragStart","onDragging","onDragEnd","onHotspotOut","onHotspotOver","onTouchStart","onComplete","onHotspotClick","onTouchMove","onTouchEnd","onResize"]),{map:i,setMap:E,zoom:u,setZoom:p,container:D,setContainer:Y}}},89884:function(t,c,e){"use strict";e.d(c,{_:function(){return ne},D:function(){return B}});var M=e(38425),f=e.n(M),s=e(76091),r=e.n(s),l=e(7863),m=e.n(l),n=e(36047),S=e(34342),T=e(40690),O=e(17210),q=["className","children"],J=function(A){var j=useReducer(reducer,initialState),L=_slicedToArray(j,2),o=L[0],P=L[1];return _jsx(Context.Provider,{value:_objectSpread(_objectSpread({},o),{},{state:o,dispatch:P}),children:A.children})},V=(0,n.forwardRef)(function(g,A){var j=g.className,L=g.children,o=f()(g,q),P=(0,n.useReducer)(T.I6,T.E3),v=m()(P,2),W=v[0],$=v[1],Q=(0,n.useRef)(null),U=(0,S.S)(r()({container:o.container||Q.current},o)),F=U.setContainer,ae=U.container,x=U.map;(0,n.useEffect)(function(){return F(Q.current)},[Q.current]),(0,n.useImperativeHandle)(A,function(){return r()(r()({},o),{},{map:x,AMap,container:o.container||Q.current})},[x]);var _=n.Children.toArray(L);return(0,n.useEffect)(function(){x&&$({map:x,container:Q.current,AMap})},[x]),(0,O.jsxs)(T._y.Provider,{value:r()(r()({},W),{},{state:W,dispatch:$}),children:[!o.container&&(0,O.jsx)("div",{ref:Q,className:"react-amap-wapper ".concat(j),style:r()({fontSize:1,width:"100%",height:"100%"},o.style)}),AMap&&x&&typeof L=="function"&&L({AMap,map:x,container:ae}),AMap&&x&&_.map(function(N,K){return(0,n.isValidElement)(N)?typeof N=="string"?(0,n.cloneElement)((0,O.jsx)(n.Fragment,{children:N}),{key:K}):N.type&&typeof N.type=="string"?(0,n.cloneElement)(N,{key:K}):(0,n.cloneElement)(N,r()(r()({},N.props),{},{AMap,map:x,container:ae,key:K})):null})]})}),B=V,ee=e(84019),k=e.n(ee),h=e(4620),a=e.n(h),w=e(32061),C=e.n(w),y=e(80044),i=e.n(y),E=e(58518),I=e.n(E),R=e(70611),u=e.n(R),p=e(48234),d=e.n(p),Z=e(58879),D=e.n(Z),Y=e(39620),b=e.n(Y);function G(g){return new Promise(function(A,j){window.setTimeout(A,g)})}var H=3,te=function(g){d()(j,g);var A=D()(j);function j(L){var o;if(i()(this,j),o=A.call(this,L),b()(u()(o),"isMountedOk",!1),b()(u()(o),"state",{loaded:!!window.AMap}),b()(u()(o),"handleError",function(P){o.isMountedOk&&u()(o).setState({error:P})}),b()(u()(o),"finish",function(){o.isMountedOk&&u()(o).setState({loaded:!0})}),L.akay===null)throw new TypeError("AMap: akay is required");return o}return I()(j,[{key:"componentDidMount",value:function(){this.isMountedOk=!0;var o=this.props.callbackName;if(window.AMap==null){if(window[o]){j.waitQueue.push([this.finish,this.handleError]);return}this.loadMap()}}},{key:"componentWillUnmount",value:function(){this.isMountedOk=!1}},{key:"render",value:function(){return this.state.loaded?this.props.children:this.props.fallback?this.props.fallback(this.state.error):this.state.error?(0,O.jsx)("div",{style:{color:"red"},children:this.state.error.message}):null}},{key:"getScriptSrc",value:function(){var o=this.props,P=o.protocol||window.location.protocol;P.indexOf(":")===-1&&(P+=":");var v="";return o.plugin&&(v="&plugin=".concat(o.plugin)),"".concat(P,"//").concat(o.hostAndPath,"?v=").concat(o.version,"&key=").concat(o.akay,"&callback=").concat(o.callbackName).concat(v)}},{key:"loadMap",value:function(){var L=C()(k()().mark(function P(){var v=this,W,$,Q,U,F;return k()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:W=this.props.callbackName,$=this.getScriptSrc(),window[W]=function(){var _=j.waitQueue;j.waitQueue=[],_.forEach(function(N){return N[0]()}),v.finish()},Q=k()().mark(function _(){var N,K;return k()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,re($);case 3:return z.abrupt("return","break");case 6:if(z.prev=6,z.t0=z.catch(0),U!==H-1){z.next=15;break}return N=new Error("Failed to load AMap: ".concat(z.t0.message)),K=j.waitQueue,j.waitQueue=[],K.forEach(function(ue){return ue[1](N)}),v.handleError(N),z.abrupt("return",{v:void 0});case 15:return z.next=17,G(U*1e3);case 17:case"end":return z.stop()}},_,null,[[0,6]])}),U=0;case 5:if(!(U<H)){x.next=15;break}return x.delegateYield(Q(),"t0",7);case 7:if(F=x.t0,F!=="break"){x.next=10;break}return x.abrupt("break",15);case 10:if(a()(F)!=="object"){x.next=12;break}return x.abrupt("return",F.v);case 12:U++,x.next=5;break;case 15:case"end":return x.stop()}},P,this)}));function o(){return L.apply(this,arguments)}return o}()}]),j}(n.Component);b()(te,"defaultProps",{protocol:/^file:/.test(window.location.protocol)?"https":window.location.protocol,akay:"",hostAndPath:"webapi.amap.com/maps",version:"2.0",callbackName:"load_amap_sdk",plugin:""}),b()(te,"waitQueue",[]);var X={};function oe(g){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"_react_amap_css",j=document&&(document.head||document.getElementsByTagName("head")[0]),L=document.getElementById(A);return new Promise(function(o,P){if(!document||g in X||L){o();return}var v=document.createElement("link");v.type="text/css",v.rel="stylesheet",v.id=A,v.href=g,v.onerror=function(W){j.removeChild(v),P(new URIError("The css ".concat(g," is no accessible.")))},v.onload=function(){X[g]=!0,o()},j.appendChild(v)})}function re(g){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"_react_amap_plugin",j=document&&(document.head||document.getElementsByTagName("head")[0]),L=document.getElementById(A);return new Promise(function(o,P){if(!document||g in X||L){o();return}var v=document.createElement("script");v.type="text/javascript",v.id=A,v.async=!0,v.defer=!0,v.src=g,v.onerror=function(W){j.removeChild(v),P(new URIError("The Script ".concat(g," is no accessible.")))},v.onload=function(){X[g]=!0,o()},j.appendChild(v)})}var ne=te},70611:function(t){function c(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},80044:function(t){function c(e,M){if(!(e instanceof M))throw new TypeError("Cannot call a class as a function")}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},58518:function(t,c,e){var M=e(86671);function f(r,l){for(var m=0;m<l.length;m++){var n=l[m];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,M(n.key),n)}}function s(r,l,m){return l&&f(r.prototype,l),m&&f(r,m),Object.defineProperty(r,"prototype",{writable:!1}),r}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},58879:function(t,c,e){var M=e(53107),f=e(15592),s=e(47131);function r(l){var m=f();return function(){var S=M(l),T;if(m){var O=M(this).constructor;T=Reflect.construct(S,arguments,O)}else T=S.apply(this,arguments);return s(this,T)}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},53107:function(t){function c(e){return t.exports=c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},t.exports.__esModule=!0,t.exports.default=t.exports,c(e)}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},48234:function(t,c,e){var M=e(21902);function f(s,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(r&&r.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),r&&M(s,r)}t.exports=f,t.exports.__esModule=!0,t.exports.default=t.exports},15592:function(t){function c(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},10255:function(t){function c(e){if(e==null)throw new TypeError("Cannot destructure "+e)}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},38425:function(t,c,e){var M=e(68277);function f(s,r){if(s==null)return{};var l=M(s,r),m,n;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(s);for(n=0;n<S.length;n++)m=S[n],!(r.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(s,m)&&(l[m]=s[m])}return l}t.exports=f,t.exports.__esModule=!0,t.exports.default=t.exports},68277:function(t){function c(e,M){if(e==null)return{};var f={},s=Object.keys(e),r,l;for(l=0;l<s.length;l++)r=s[l],!(M.indexOf(r)>=0)&&(f[r]=e[r]);return f}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},47131:function(t,c,e){var M=e(4620).default,f=e(70611);function s(r,l){if(l&&(M(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(r)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},21902:function(t){function c(e,M){return t.exports=c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,r){return s.__proto__=r,s},t.exports.__esModule=!0,t.exports.default=t.exports,c(e,M)}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports}}]);
