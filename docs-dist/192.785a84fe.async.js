(self.webpackChunkperfect_map=self.webpackChunkperfect_map||[]).push([[192],{87071:function(W,m,d){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=function(){function e(t,u){for(var r=0;r<u.length;r++){var n=u[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,u,r){return u&&e(t.prototype,u),r&&e(t,r),t}}(),A=d(36047),O=C(A),P=d(14738),y=C(P),I=d(92921),S=C(I),R=d(77162);function C(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=["center","radius","draggable","extData","visible","style"],a=s.concat(["zIndex","bubble"]),f=function(e){_(t,e);function t(u){w(this,t);var r=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u));if(typeof window!="undefined")if(!u.__map__)S.default.warning("MAP_INSTANCE_REQUIRED");else{var n=r;r.setterMap={visible:function(l){n.mapCircle&&(l?n.mapCircle.show():n.mapCircle.hide())},style:function(l){n.mapCircle&&n.mapCircle.setOptions(l)}},r.converterMap={center:R.toLnglat},r.state={loaded:!1},r.map=u.__map__,r.element=r.map.getContainer(),r.createInstance(u).then(function(){r.setState({loaded:!0}),r.props.onInstanceCreated&&r.props.onInstanceCreated()})}return r}return b(t,[{key:"createInstance",value:function(r){var n=this.buildCreateOptions(r);return n.map=this.map,this.mapCircle=new window.AMap.Circle(n),Promise.resolve(this.mapCircle)}},{key:"buildCreateOptions",value:function(r){var n=this,i={};return a.forEach(function(l){if(l in r)if(l==="style"&&r.style!==void 0){var h=Object.keys(r.style);h.forEach(function(M){i[M]=r.style[M]})}else i[l]=n.getSetterValue(l,r)}),i}},{key:"getSetterValue",value:function(r,n){return r in this.converterMap?this.converterMap[r](n[r]):n[r]}},{key:"renderEditor",value:function(r){return!r||O.default.Children.count(r)!==1?null:O.default.cloneElement(O.default.Children.only(r),{__circle__:this.mapCircle,__map__:this.map,__ele__:this.element})}},{key:"render",value:function(){return this.state.loaded?this.renderEditor(this.props.children):null}},{key:"instance",get:function(){return this.mapCircle}}]),t}(O.default.Component);m.default=(0,y.default)(f)},23541:function(W,m,d){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=function(){function s(a,f){for(var e=0;e<f.length;e++){var t=f[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}return function(a,f,e){return f&&s(a.prototype,f),e&&s(a,e),a}}(),A=d(36047),O=R(A),P=d(92921),y=R(P),I=d(16198),S=R(I);function R(s){return s&&s.__esModule?s:{default:s}}function C(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function w(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function k(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var _=function(s){k(a,s);function a(f){C(this,a);var e=w(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f));return typeof window!="undefined"&&(f.__map__&&f.__circle__?(e.map=f.__map__,e.element=e.map.getContainer(),e.circle=f.__circle__,e.editorActive=!1,e.onPropsUpdate(f)):y.default.warning("CIRCLE_INSTANCE_REQUIRED")),e}return b(a,[{key:"componentWillReceiveProps",value:function(e){this.map&&this.onPropsUpdate(e)}},{key:"onPropsUpdate",value:function(e){"active"in e&&e.active===!1?this.toggleActive(!1,e):this.toggleActive(!0,e)}},{key:"toggleActive",value:function(e,t){e?this.editorActive||this.activeEditor(t):this.editorActive&&this.inactiveEditor()}},{key:"activeEditor",value:function(e){var t=this;this.loadCircleEditor(e).then(function(u){t.editorActive=!0,u.open()})}},{key:"inactiveEditor",value:function(){this.editorActive=!1,this.circleEditor&&this.circleEditor.close()}},{key:"loadCircleEditor",value:function(e){var t=this;return this.circleEditor?Promise.resolve(this.circleEditor):new Promise(function(u){t.map.plugin(["AMap.CircleEditor"],function(){u(t.createEditorInstance(e))})})}},{key:"createEditorInstance",value:function(e){this.circleEditor=new window.AMap.CircleEditor(this.map,this.circle);var t=this.exposeEditorInstance(e);return t&&this.bindEditorEvents(t),this.circleEditor}},{key:"exposeEditorInstance",value:function(e){if("events"in e){var t=e.events||{};return(0,S.default)(t.created)&&t.created(this.circleEditor),delete t.created,t}return!1}},{key:"bindEditorEvents",value:function(e){var t=this,u=Object.keys(e);u.length&&u.forEach(function(r){t.circleEditor.on(r,e[r])})}},{key:"render",value:function(){return null}}]),a}(O.default.Component);m.default=_},8181:function(W,m,d){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=function(){function a(f,e){for(var t=0;t<e.length;t++){var u=e[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(f,u.key,u)}}return function(f,e,t){return e&&a(f.prototype,e),t&&a(f,t),f}}(),A=d(36047),O=R(A),P=d(14738),y=R(P),I=d(92921),S=R(I);function R(a){return a&&a.__esModule?a:{default:a}}function C(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}function w(a,f){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:a}function k(a,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(a,f):a.__proto__=f)}var _={clickable:!1,opacity:1,visible:!0},s=function(a){k(f,a);function f(e){C(this,f);var t=w(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));if(typeof window!="undefined")if(!e.__map__)S.default.warning("MAP_INSTANCE_REQUIRED");else{var u=t;t.setterMap={visible:function(n){n?u.image&&u.image.show():u.image&&u.image.hide()},src:function(n){u.image.setImageUrl(n)}},t.converterMap={bounds:function(n){return u.buildBounds(n)}},t.map=e.__map__,t.element=t.map.getContainer(),setTimeout(function(){t.createGroundImage(e)},13)}return t}return b(f,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"checkPropsChanged",value:function(t,u){return this.props[u]!==t[u]}},{key:"createGroundImage",value:function(t){var u=void 0,r=void 0,n=void 0,i=void 0;"src"in t?u=t.src:S.default.warning("SRC_REQUIRED",!0),"bounds"in t?r=this.buildBounds(t.bounds):S.default.warning("BOUNDS_REQUIRED",!0),"clickable"in t?i=t.clickable:i=_.clickable,"opacity"in t?n=t.opacity:n=_.opacity,this.image=new window.AMap.GroundImage(u,r,{map:this.map,clickable:i,opacity:n}),this.props.onInstanceCreated&&this.props.onInstanceCreated()}},{key:"buildBounds",value:function(t){if(!t||"getSouthWest"in t)return t;var u=new window.AMap.Bounds(new window.AMap.LngLat(t.sw.longitude,t.sw.latitude),new window.AMap.LngLat(t.ne.longitude,t.ne.latitude));return u}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.image}}]),f}(O.default.Component);m.default=(0,y.default)(s)},90516:function(W,m,d){"use strict";var b;b={value:!0},b=b=b=b=b=b=b=b=b=b=m.D5=void 0;var A=d(11657),O=M(A),P=d(91558),y=M(P),I=d(52891),S=M(I),R=d(87071),C=M(R),w=d(52693),k=M(w),_=d(52446),s=M(_),a=d(17518),f=M(a),e=d(8181),t=M(e),u=d(23541),r=M(u),n=d(32406),i=M(n),l=d(74328),h=M(l);function M(x){return x&&x.__esModule?x:{default:x}}m.D5=O.default,b=S.default,b=C.default,b=r.default,b=k.default,b=s.default,b=i.default,b=f.default,b=t.default,b=y.default,b=h.default,b={Map:O.default,Markers:S.default,Circle:C.default,CircleEditor:r.default,Polygon:k.default,Polyline:s.default,PolyEditor:i.default,InfoWindow:f.default,GroundImage:t.default,Marker:y.default,MouseTool:h.default}},17518:function(W,m,d){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=function(){function u(r,n){for(var i=0;i<n.length;i++){var l=n[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}return function(r,n,i){return n&&u(r.prototype,n),i&&u(r,i),r}}(),A=d(36047),O=w(A),P=d(55262),y=d(14738),I=w(y),S=d(92921),R=w(S),C=d(77162);function w(u){return u&&u.__esModule?u:{default:u}}function k(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function _(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function s(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var a=O.default.Component,f=["content","position","size","visible","offset"],e=f.concat(["isCustom","autoMove","closeWhenClickMap","showShadow"]),t=function(u){s(r,u);function r(n){k(this,r);var i=_(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,n));if(typeof window!="undefined")if(!n.__map__)R.default.warning("MAP_INSTANCE_REQUIRED");else{var l=i;i.setterMap={visible:function(M){M?(l.showWindow(),l.setClassName(l.props),l.setChild(l.props)):l.closeWindow()}},i.converterMap={size:C.toSize,offset:C.toPixel,position:C.toLnglat},i.map=n.__map__,i.isCustom=!0,setTimeout(function(){i.createInfoWindow(n)},13)}return i}return b(r,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(i){this.map&&this.refreshWindowLayout(i)}},{key:"createInfoWindow",value:function(i){var l=this.buildCreateOptions(i);this.infoWindow=new window.AMap.InfoWindow(l),this.props.onInstanceCreated&&this.props.onInstanceCreated()}},{key:"refreshWindowLayout",value:function(i){this.setChild(i),this.setClassName(i)}},{key:"checkPropChanged",value:function(i,l){return this.props[i]!==l[i]}},{key:"showWindow",value:function(){this.infoWindow.open(this.map,this.infoWindow.getPosition())}},{key:"closeWindow",value:function(){this.infoWindow.close()}},{key:"buildCreateOptions",value:function(i){var l=this,h={};return"isCustom"in i?h.isCustom=!!i.isCustom:h.isCustom=!1,"content"in i?h.content=i.content:(this.infoDOM=document.createElement("div"),h.content=this.infoDOM),e.forEach(function(M){M in i&&["visible","isCustom","content"].indexOf(M)===-1&&(h[M]=l.getSetterValue(M,i[M]))}),h}},{key:"getSetterValue",value:function(i,l){return i in this.converterMap?this.converterMap[i](l):l}},{key:"setChild",value:function(i){var l=i.children;this.infoDOM&&l?(0,P.render)(O.default.createElement("div",null,l),this.infoDOM):i.children&&console.warn("\u56E0\u4E3A\u4F60\u8BBE\u7F6E isCustom \u4E3A true\uFF0CInfoWindow \u7684 Children \u88AB\u5FFD\u7565")}},{key:"setClassName",value:function(i){if(this.infoDOM){var l="";"className"in i&&i.className?l+=i.className:i.isCustom===!0&&(l+="amap_markers_pop_window"),this.infoDOM.className=l}}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.infoWindow}}]),r}(a);m.default=(0,I.default)(t)},11657:function(W,m,d){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=Object.assign||function(E){for(var p=1;p<arguments.length;p++){var c=arguments[p];for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&(E[o]=c[o])}return E},A=function(){function E(p,c){for(var o=0;o<c.length;o++){var v=c[o];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,c,o){return c&&E(p.prototype,c),o&&E(p,o),p}}(),O=d(36047),P=a(O),y=d(76953),I=a(y),S=d(16198),R=a(S),C=d(92921),w=a(C),k=d(77162),_=d(14738),s=a(_);function a(E){return E&&E.__esModule?E:{default:E}}function f(E,p){var c={};for(var o in E)p.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(E,o)&&(c[o]=E[o]);return c}function e(E,p){if(!(E instanceof p))throw new TypeError("Cannot call a class as a function")}function t(E,p){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:E}function u(E,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);E.prototype=Object.create(p&&p.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(E,p):E.__proto__=p)}var r=P.default.Component,n=P.default.Children,i={width:"100%",height:"100%"},l={width:"100%",height:"100%",position:"relative"},h=["layers","zoom","center","labelzIndex","mapStyle","features","cursor","pitch"],M=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],x=["view","zooms","showIndoorMap","indoorMap","expandZoomRange","showBuildingBlock","viewMode","pitchEnable","buildingAnimation","skyColor"],H=h.concat(M,x),N={MapType:{showRoad:!1,showTraffic:!1,defaultType:0},ToolBar:{position:"RB",noIpLocate:!0,locate:!0,liteStyle:!0,autoPosition:!1},OverView:{},ControlBar:{}},j=function(E){u(p,E);function p(c){e(this,p);var o=t(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,c));o.state={mapLoaded:!1};var v=o;return o.setterMap={zoom:function(D){v.map.setZoom(D)},cursor:function(D){v.map.setDefaultCursor(D)},labelzIndex:function(D){v.map.setlabelzIndex(D)}},o.converterMap={center:k.toLnglat},typeof window!="undefined"&&(o.pluginMap={},new I.default({key:c.amapkey,useAMapUI:c.useAMapUI,version:c.version,protocol:c.protocol}).load().then(function(){o.createInstance(),o.state.mapLoaded||o.setState({mapLoaded:!0})})),o}return A(p,[{key:"componentWillReceiveProps",value:function(o){this.state.mapLoaded&&this.updateMapProps(this.props,o)}},{key:"renderChildren",value:function(){var o=this;return n.map(this.props.children,function(v){if(v){var g=v.type;return g.preventAmap||typeof g=="string"?v:P.default.cloneElement(v,{__map__:o.map})}return v})}},{key:"createInstance",value:function(){if(!this.map){var o=this.buildCreateOptions();this.map=new window.AMap.Map(this.mapWrapper,o),this.setPlugins(this.props),this.props.onInstanceCreated&&this.props.onInstanceCreated()}}},{key:"buildCreateOptions",value:function(){var o=this,v=this.props,g={};return H.forEach(function(D){D in v&&(g[D]=o.getSetterValue(D,v))}),g}},{key:"updateMapProps",value:function(o,v){var g=this,D={},T=!1,U=!1;M.forEach(function(L){L in v&&(U=!0,g.detectPropChanged(L,o,v)&&(T=!0,D[L]=v[L]))}),T&&this.map.setStatus(D),U&&"status"in v&&w.default.warning(`\u4EE5\u4E0B\u8FD9\u4E9B\u5C5E\u6027\u53EF\u4EE5\u5355\u72EC\u63D0\u4F9B\u8FDB\u884C\u914D\u7F6E\uFF0C\u4E5F\u53EF\u4EE5\u7EDF\u4E00\u4F5C\u4E3A\u2018status\u2019\u5C5E\u6027\u914D\u7F6E\uFF1B\u4F46\u662F\u8BF7\u4E0D\u8981\u540C\u65F6\u4F7F\u7528\u8FD9\u4E24\u79CD\u65B9\u5F0F\u3002
\uFF08`+M.join(", ")+"\uFF09"),x.forEach(function(L){L in v&&g.detectPropChanged(L,o,v)&&w.default.warning("'"+L+"' \u662F\u4E00\u4E2A\u9759\u6001\u5C5E\u6027\uFF0C\u5730\u56FE\u5B9E\u4F8B\u521B\u5EFA\u6210\u529F\u540E\u65E0\u6CD5\u4FEE\u6539")}),this.setPlugins(v)}},{key:"getSetterValue",value:function(o,v){return o in this.converterMap?this.converterMap[o](v[o]):v[o]}},{key:"detectPropChanged",value:function(o,v,g){return v[o]!==g[o]}},{key:"setPlugins",value:function(o){var v=this,g=["Scale","ToolBar","MapType","OverView","ControlBar"];if("plugins"in o){var D=o.plugins;D&&D.length&&D.forEach(function(T){var U=void 0,L=void 0,F=void 0;typeof T=="string"?(U=T,L=null,F=!0):(U=T.name,L=T.options||{},F="visible"in L&&typeof L.visible=="boolean"?L.visible:!0,delete L.visible);var z=g.indexOf(U);z===-1?w.default.warning("\u6CA1\u6709 \u2018"+U+"\u2019 \u8FD9\u4E2A\u63D2\u4EF6\uFF0C\u8BF7\u68C0\u67E5\u662F\u5426\u62FC\u5199\u9519\u8BEF"):F&&(g.splice(z,1),v.installPlugin(U,L))})}this.removeOrDisablePlugins(g)}},{key:"removeOrDisablePlugins",value:function(o){var v=this;o&&o.length&&o.forEach(function(g){g in v.pluginMap&&(g==="ControlBar"?(v.map.removeControl(v.pluginMap[g]),delete v.pluginMap[g]):v.pluginMap[g].hide())})}},{key:"installPlugin",value:function(o,v){switch(v=v||{},o){case"Scale":case"ToolBar":case"OverView":case"MapType":this.setMapPlugin(o,v);break;case"ControlBar":this.setControlBar(v);break;default:}}},{key:"setMapPlugin",value:function(o,v){var g=this;if(this.pluginMap[o])this.pluginMap[o].show();else{var D=v.onCreated,T=f(v,["onCreated"]),U=b({},N[o],T);this.map.plugin(["AMap."+o],function(){g.pluginMap[o]=new window.AMap[o](U),g.map.addControl(g.pluginMap[o]),(0,R.default)(D)&&D(g.pluginMap[o])})}}},{key:"setControlBar",value:function(o){var v=this;if(!this.pluginMap.ControlBar){var g=o.onCreated,D=f(o,["onCreated"]),T=b({},N.ControlBar,D);this.map.plugin(["AMap.ControlBar"],function(){v.pluginMap.ControlBar=new window.AMap.ControlBar(T),v.map.addControl(v.pluginMap.ControlBar),(0,R.default)(g)&&g(v.pluginMap.ControlBar)})}}},{key:"render",value:function(){var o=this;return P.default.createElement("div",{style:l},P.default.createElement("div",{ref:function(g){o.mapWrapper=g},style:i},this.state.mapLoaded?null:this.props.loading||null),P.default.createElement("div",null,this.state.mapLoaded?this.renderChildren():null))}},{key:"instance",get:function(){return this.map}}]),p}(r);m.default=(0,s.default)(j)},91558:function(W,m,d){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A=function(){function t(u,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(u,i.key,i)}}return function(u,r,n){return r&&t(u.prototype,r),n&&t(u,n),u}}(),O=d(36047),P=_(O),y=d(55262),I=d(92921),S=_(I),R=d(14738),C=_(R),w=d(57107),k=d(77162);function _(t){return t&&t.__esModule?t:{default:t}}function s(t,u){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}function a(t,u){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:t}function f(t,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);t.prototype=Object.create(u&&u.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(t,u):t.__proto__=u)}var e=function(t){f(u,t);function u(r){s(this,u);var n=a(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,r));if(typeof window!="undefined")if(!r.__map__)S.default.warning("MAP_INSTANCE_REQUIRED");else{var i=n;n.setterMap={visible:function(h){h?i.marker&&i.marker.show():i.marker&&i.marker.hide()},zIndex:function(h){i.marker&&i.marker.setzIndex(h)}},n.converterMap={position:k.toLnglat,offset:k.toPixel},n.map=r.__map__,n.element=n.map.getContainer(),setTimeout(function(){n.createMarker(r)},13)}return n}return A(u,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(n){this.map&&this.refreshMarkerLayout(n)}},{key:"createMarker",value:function(n){var i=this.buildCreateOptions(n);this.marker=new window.AMap.Marker(i),this.marker.render=function(l){return function(h){(0,w.renderMarkerComponent)(h,l)}}(this.marker),this.props.onInstanceCreated&&this.props.onInstanceCreated(),this.setMarkerLayout(n),this.setChildComponent(n)}},{key:"buildCreateOptions",value:function(n){var i=this,l={};return w.MarkerAllProps.forEach(function(h){h in n&&(l[h]=i.getSetterParam(h,n[h]))}),l.map=this.map,l}},{key:"setMarkerLayout",value:function(n){("render"in n||"children"in n&&n.children)&&(this.createContentWrapper(),"className"in n&&n.className&&(this.contentWrapper.className=n.className))}},{key:"createContentWrapper",value:function(){this.contentWrapper=document.createElement("div"),this.marker.setContent(this.contentWrapper)}},{key:"setChildComponent",value:function(n){if(this.contentWrapper){if("className"in n&&n.className&&(this.contentWrapper.className=n.className),"render"in n)(0,w.renderMarkerComponent)(n.render,this.marker);else if("children"in n){var i=n.children,l=typeof i=="undefined"?"undefined":b(i);l!=="undefined"&&this.contentWrapper&&(0,y.render)(P.default.createElement("div",null,i),this.contentWrapper)}}}},{key:"refreshMarkerLayout",value:function(n){this.setChildComponent(n)}},{key:"getSetterParam",value:function(n,i){return n in this.converterMap?this.converterMap[n](i):i}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.marker}}]),u}(P.default.Component);m.default=(0,C.default)(e)},52891:function(W,m,d){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=function(){function j(E,p){for(var c=0;c<p.length;c++){var o=p[c];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(E,o.key,o)}}return function(E,p,c){return p&&j(E.prototype,p),c&&j(E,c),E}}(),A=d(36047),O=w(A),P=d(55262),y=d(16198),I=w(y),S=d(92921),R=w(S),C=d(57107);function w(j){return j&&j.__esModule?j:{default:j}}function k(j,E){if(!(j instanceof E))throw new TypeError("Cannot call a class as a function")}function _(j,E){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:j}function s(j,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);j.prototype=Object.create(E&&E.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(j,E):j.__proto__=E)}if(typeof window!="undefined"){var a=`.amap_markers_pop_window{
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 8px;
    background: #fff;
    position: relative;
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start;
}
.amap_markers_pop_window::before{
    content: ' ';
    display: block;
    position: absolute;
    bottom: -12px;
    left: 50%;
    margin-left: -7px;
    width: 0;
    height: 0;
    border-top: 12px solid #ddd;
    border-left: 7px solid transparent;
    border-right: 7px solid transparent;
}
.amap_markers_pop_window::after{
    content: ' ';
    display: block;
    position: absolute;
    bottom: -11px;
    left: 50%;
    margin-left: -6px;
    width: 0;
    height: 0;
    border-top: 11px solid #fff;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
}
.amap_markers_pop_window_item{
    cursor:pointer;
    width: 40px;
    height: 50px;
    display: flex;
    align-items: flex-end;
    justify-content: center;
}
.amap_markers_pop_window_item span{
    pointer-events: none;
}
.amap_markers_window_overflow_warning{
    text-align: center;
    width: 100%;
    margin: 5px 0;
    color: #666;
}`,f=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.textContent=a,f.appendChild(e)}var t=O.default.Component,u=.8,r=32*u,n=46*u-2,i=46*u,l=66*u-2,h=42,M={useCluster:!1,markersCache:[],markerIDCache:[]},x=["gridSize","minClusterSize","maxZoom","averageCenter","styles","zoomOnClick","renderCluserMarker"],H="__react_amap__",N=function(j){s(E,j);function E(p){k(this,E);var c=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,p));return typeof window!="undefined"&&(p.__map__?(c.map=p.__map__,c.element=c.map.getContainer(),c.markersCache=M.markersCache,c.useCluster=null,c.markerIDCache=M.markerIDCache,c.resetOffset=new window.AMap.Pixel(-r/2,-n),c.hoverOffset=new window.AMap.Pixel(-i/2,-l),c.createMarkers(p)):R.default.warning("MAP_INSTANCE_REQUIRED")),c}return b(E,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"createMarkers",value:function(c){var o=this,v=c.markers||[],g=[],D={};v.length&&v.forEach(function(T,U){var L=o.buildCreateOptions(c,T,U);L.map=o.map;var F=null;if((0,I.default)(c.render)){var z=c.render(T);if(z!==!1){var Q=document.createElement("div");Q.setAttribute(H,"1"),F=Q,D[U]=z}}if(!F){F=document.createElement("div");var G=document.createElement("img");G.src="//webapi.amap.com/theme/v1.3/markers/n/mark_bs.png",F.appendChild(G)}L.content=F;var B=new window.AMap.Marker(L);B.on("click",function(V){o.onMarkerClick(V)}),B.on("mouseover",function(V){o.onMarkerHover(V)}),B.on("mouseout",function(V){o.onMarkerHoverOut(V)}),B.render=function(V){return function(Z){return(0,C.renderMarkerComponent)(Z,V)}}(B),o.bindMarkerEvents(B),g.push(B)}),this.markersCache=g,this.markerReactChildDOM=D,this.exposeMarkerInstance(),this.checkClusterSettings(c)}},{key:"checkClusterSettings",value:function(c){var o=this;if(c.useCluster)this.loadClusterPlugin(c.useCluster).then(function(g){g.setMarkers(o.markersCache)});else if(this.mapCluster){var v=this.mapCluster.getMarkers();this.mapCluster.clearMarkers(),v.forEach(function(g){g.setMap(o.map)})}}},{key:"componentDidMount",value:function(){this.map&&this.setMarkerChild()}},{key:"setMarkerChild",value:function(){var c=this;Object.keys(this.markerReactChildDOM).forEach(function(o){var v=c.markersCache[o].getContent(),g=c.markerReactChildDOM[o];c.renderMarkerChild(v,g)})}},{key:"renderMarkerChild",value:function(c,o){(0,P.render)(O.default.createElement("div",null,o),c)}},{key:"buildCreateOptions",value:function(c,o,v){var g={},D=["extData"];return C.MarkerAllProps.forEach(function(T){if(T in o&&D.indexOf(T)===-1)g[T]=(0,C.getPropValue)(T,o[T]);else if(T in c)if((0,I.default)(c[T])){var U=c[T].call(null,o,v);g[T]=(0,C.getPropValue)(T,U)}else g[T]=(0,C.getPropValue)(T,c[T])}),g.extData=o,g}},{key:"componentWillReceiveProps",value:function(c){this.map&&this.refreshMarkersLayout(c)}},{key:"refreshMarkersLayout",value:function(c){var o=c.markers!==this.props.markers,v=!!this.props.useCluster!=!!c.useCluster;o&&(this.markersCache.length&&this.markersCache.forEach(function(g){g&&(g.setMap(null),g=null)}),this.markersCache=M.markersCache,this.createMarkers(c),this.setMarkerChild()),(o||v)&&this.markersWindow&&this.markersWindow.close(),v&&this.checkClusterSettings(c)}},{key:"loadClusterPlugin",value:function(c){var o=this;if(this.mapCluster)return Promise.resolve(this.mapCluster);var v=typeof c=="boolean"?{}:c;return new Promise(function(g){o.map.plugin(["AMap.MarkerClusterer"],function(){g(o.createClusterPlugin(v))})})}},{key:"createClusterPlugin",value:function(c){var o={},v={minClusterSize:2,zoomOnClick:!1,maxZoom:18,gridSize:60,averageCenter:!0};x.forEach(function(D){D in c?o[D]=c[D]:o[D]=v[D]}),this.mapCluster=new window.AMap.MarkerClusterer(this.map,[],o);var g={};return"events"in c&&(g=c.events,"created"in g&&g.created(this.mapCluster)),this.initClusterMarkerWindow(),this.bindClusterEvent(g),this.mapCluster}},{key:"onMarkerClick",value:function(c){var o=c.target;this.triggerMarkerClick(c,o)}},{key:"onMarkerHover",value:function(c){c.target.setTop(!0),this.setMarkerHovered(c,c.target)}},{key:"onMarkerHoverOut",value:function(c){c.target.setTop(!1),this.setMarkerHoverOut(c,c.target)}},{key:"onWindowMarkerClick",value:function(c){var o=c.markerRef;this.triggerMarkerClick(null,o)}},{key:"onWindowMarkerHover",value:function(c){var o=c.markerRef;this.setMarkerHovered(null,o)}},{key:"onWindowMarkerHoverOut",value:function(c){var o=c.markerRef;this.setMarkerHoverOut(null,o)}},{key:"setMarkerHovered",value:function(c,o){this.triggerMarkerHover(c,o)}},{key:"setMarkerHoverOut",value:function(c,o){this.triggerMarkerHoverOut(c,o)}},{key:"triggerMarkerClick",value:function(c,o){var v=this.props.events||{};(0,I.default)(v.click)&&v.click(c,o)}},{key:"triggerMarkerHover",value:function(c,o){var v=this.props.events||{};(0,I.default)(v.mouseover)&&v.mouseover(c,o)}},{key:"triggerMarkerHoverOut",value:function(c,o){var v=this.props.events||{};(0,I.default)(v.mouseout)&&v.mouseout(c,o)}},{key:"initClusterMarkerWindow",value:function(){this.markersWindow=new window.AMap.InfoWindow({isCustom:!0,autoMove:!0,closeWhenClickMap:!0,content:"<span>loading...</span>",showShadow:!1,offset:new window.AMap.Pixel(0,-20)}),this.markersDOM=document.createElement("div"),this.markersDOM.className="amap_markers_pop_window",this.markersWindow.setContent(this.markersDOM)}},{key:"bindClusterEvent",value:function(c){var o=this;this.mapCluster.on("click",function(v){if(!(o.props.useCluster&&o.props.useCluster.zoomOnClick)){var g=!0;(0,I.default)(c.click)&&(g=c.click(v)),g!==!1&&o.showMarkersInfoWindow(v)}})}},{key:"showMarkersInfoWindow",value:function(c){var o=this,v=c.lnglat,g=c.markers;if(this.markersDOM.innerHTML="",g&&g.length){var D=g.length;if(D>h&&(g=g.slice(0,h)),g.forEach(function(U){var L=U.getContent(),F=document.createElement("div");F.className="window_marker_item",F.appendChild(L),F.markerRef=U,F.addEventListener("click",o.onWindowMarkerClick.bind(o,F),!0),F.addEventListener("mouseover",o.onWindowMarkerHover.bind(o,F),!0),F.addEventListener("mouseout",o.onWindowMarkerHoverOut.bind(o,F),!0),o.markersDOM.appendChild(F)}),D>h){var T=document.createElement("div");T.className="amap_markers_window_overflow_warning",T.innerText="\u66F4\u591A\u5750\u6807\u8BF7\u653E\u5927\u5730\u56FE\u67E5\u770B",this.markersDOM.appendChild(T)}}this.markersWindow.open(this.map,v)}},{key:"exposeMarkerInstance",value:function(){if("events"in this.props){var c=this.props.events||{};(0,I.default)(c.created)&&c.created(this.markersCache)}}},{key:"bindMarkerEvents",value:function(c){var o=this.props.events||{},v=Object.keys(o),g=["click","mouseover","mouseout","created"];v.length&&v.forEach(function(D){g.indexOf(D)===-1&&c.on(D,o[D])})}},{key:"render",value:function(){return null}}]),E}(t);m.default=N},74328:function(W,m,d){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=function(){function s(a,f){for(var e=0;e<f.length;e++){var t=f[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}return function(a,f,e){return f&&s(a.prototype,f),e&&s(a,e),a}}(),A=d(36047),O=R(A),P=d(14738),y=R(P),I=d(92921),S=R(I);function R(s){return s&&s.__esModule?s:{default:s}}function C(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function w(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function k(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var _=function(s){k(a,s);function a(f){C(this,a);var e=w(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f));return typeof window!="undefined"&&(f.__map__?(e.map=f.__map__,e.loadToolInstance().then(function(){e.props.onInstanceCreated&&e.props.onInstanceCreated()})):S.default.warning("MAP_INSTANCE_REQUIRED")),e}return b(a,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"loadToolInstance",value:function(){var e=this;return new Promise(function(t){e.map.plugin(["AMap.MouseTool"],function(){e.tool=new window.AMap.MouseTool(e.map),t()})})}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.tool}}]),a}(O.default.Component);m.default=(0,y.default)(_)},32406:function(W,m,d){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=function(){function s(a,f){for(var e=0;e<f.length;e++){var t=f[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}return function(a,f,e){return f&&s(a.prototype,f),e&&s(a,e),a}}(),A=d(36047),O=R(A),P=d(14738),y=R(P),I=d(92921),S=R(I);function R(s){return s&&s.__esModule?s:{default:s}}function C(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function w(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function k(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var _=function(s){k(a,s);function a(f){C(this,a);var e=w(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f));if(typeof window!="undefined")if(!(f.__map__&&f.__poly__))S.default.warning("MAP_INSTANCE_REQUIRED");else{var t=e;e.setterMap={active:function(r){t.toggleActive(r)}},e.map=f.__map__,e.poly=f.__poly__,e.editorActive=!1,e.createEditorInstance().then(function(){e.props.onInstanceCreated&&e.props.onInstanceCreated()})}return e}return b(a,[{key:"toggleActive",value:function(e){e?this.editorActive||this.activeEditor():this.editorActive&&this.inactiveEditor()}},{key:"activeEditor",value:function(){this.polyEditor&&(this.editorActive=!0,this.polyEditor.open())}},{key:"inactiveEditor",value:function(){this.editorActive=!1,this.polyEditor&&this.polyEditor.close()}},{key:"createEditorInstance",value:function(){var e=this;return this.polyEditor?Promise.resolve(this.polyEditor):new Promise(function(t){e.map.plugin(["AMap.PolyEditor"],function(){e.polyEditor=new window.AMap.PolyEditor(e.map,e.poly),t(e.polyEditor)})})}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.polyEditor}}]),a}(O.default.Component);m.default=(0,y.default)(_)},52693:function(W,m,d){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=function(){function u(r,n){for(var i=0;i<n.length;i++){var l=n[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}return function(r,n,i){return n&&u(r.prototype,n),i&&u(r,i),r}}(),A=d(36047),O=k(A),P=d(14738),y=k(P),I=d(92921),S=k(I),R=d(32406),C=k(R),w=d(77162);function k(u){return u&&u.__esModule?u:{default:u}}function _(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function s(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function a(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var f=["path","draggable","extData","style","visible"],e=f.concat(["zIndex","bubble"]),t=function(u){a(r,u);function r(n){_(this,r);var i=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,n));if(typeof window!="undefined")if(!n.__map__)S.default.warning("MAP_INSTANCE_REQUIRED");else{var l=i;i.setterMap={visible:function(M){M?l.polygon&&l.polygon.show():l.polygon&&l.polygon.hide()},style:function(M){l.polygon.setOptions(M)}},i.converterMap={path:function(M){return l.buildPathValue(M)}},i.state={loaded:!1},i.map=n.__map__,i.element=i.map.getContainer(),setTimeout(function(){i.initMapPolygon(n)},13)}return i}return b(r,[{key:"initMapPolygon",value:function(i){var l=this.buildCreateOptions(i);l.map=this.map,this.polygon=new window.AMap.Polygon(l),this.setState({loaded:!0}),this.props.onInstanceCreated&&this.props.onInstanceCreated()}},{key:"buildCreateOptions",value:function(i){var l=this,h={};return e.forEach(function(M){if(M in i)if(M==="style"&&i.style){var x=Object.keys(i.style);x.forEach(function(H){h[H]=i.style[H]})}else M!=="visible"&&(h[M]=l.getSetterValue(M,i[M]))}),h}},{key:"detectPropChanged",value:function(i,l){return this.props[i]!==l[i]}},{key:"getSetterValue",value:function(i,l){return i in this.converterMap?this.converterMap[i](l):l}},{key:"buildPathValue",value:function(i){var l=this;if(i.length){var h=i[0];if(typeof h[0]=="number")return i.map(function(M){return(0,w.toLnglat)(M)});if("getLng"in h)return i;if("longitude"in h||"lng"in h)return i.map(function(M){return(0,w.toLnglat)(M)});if("length"in h&&h.length)return i.map(function(M){return l.buildPathValue(M)})}return[]}},{key:"renderEditor",value:function(i){if(!i||O.default.Children.count(i)!==1)return null;var l=O.default.Children.only(i);return l.type===C.default?O.default.cloneElement(l,{__poly__:this.polygon,__map__:this.map}):null}},{key:"render",value:function(){return this.state.loaded?this.renderEditor(this.props.children):null}},{key:"instance",get:function(){return this.polygon}}]),r}(A.Component);m.default=(0,y.default)(t)},52446:function(W,m,d){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=function(){function r(n,i){for(var l=0;l<i.length;l++){var h=i[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(n,h.key,h)}}return function(n,i,l){return i&&r(n.prototype,i),l&&r(n,l),n}}(),A=d(36047),O=k(A),P=d(14738),y=k(P),I=d(92921),S=k(I),R=d(32406),C=k(R),w=d(77162);function k(r){return r&&r.__esModule?r:{default:r}}function _(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function s(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:r}function a(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}var f=O.default.Component,e=["path","extData","draggable","visible","style"],t=e.concat(["zIndex","bubble","showDir"]),u=function(r){a(n,r);function n(i){_(this,n);var l=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i));if(typeof window!="undefined")if(!i.__map__)S.default.warning("MAP_INSTANCE_REQUIRED");else{var h=l;l.setterMap={visible:function(x){x?h.polyline&&h.polyline.show():h.polyline&&h.polyline.hide()},style:function(x){h.polyline.setOptions(x)}},l.converterMap={path:function(x){return h.buildPathValue(x)}},l.state={loaded:!1},l.map=i.__map__,l.element=l.map.getContainer(),setTimeout(function(){l.createMapPolyline(i)},13)}return l}return b(n,[{key:"createMapPolyline",value:function(l){var h=this.buildCreateOptions(l);h.map=this.map,this.polyline=new window.AMap.Polyline(h),this.setState({loaded:!0}),this.props.onInstanceCreated&&this.props.onInstanceCreated()}},{key:"buildCreateOptions",value:function(l){var h=this,M={};return t.forEach(function(x){if(x in l)if(x==="style"&&l.style){var H=Object.keys(l.style);H.forEach(function(N){M[N]=l.style[N]})}else x!=="visible"&&(M[x]=h.getSetterValue(x,l[x]))}),M}},{key:"detectPropChanged",value:function(l,h){return this.props[l]!==h[l]}},{key:"getSetterValue",value:function(l,h){return l in this.converterMap?this.converterMap[l](h):h}},{key:"buildPathValue",value:function(l){return l.length?"getLng"in l[0]?l:l.map(function(h){return(0,w.toLnglat)(h)}):l}},{key:"renderEditor",value:function(l){if(!l||O.default.Children.count(l)!==1)return null;var h=O.default.Children.only(l);return h.type===C.default?O.default.cloneElement(h,{__poly__:this.polyline,__map__:this.map}):null}},{key:"render",value:function(){return this.state.loaded?this.renderEditor(this.props.children):null}},{key:"instance",get:function(){return this.polyline}}]),n}(f);m.default=(0,y.default)(u)},76953:function(W,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var d=Object.assign||function(R){for(var C=1;C<arguments.length;C++){var w=arguments[C];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(R[k]=w[k])}return R},b=function(){function R(C,w){for(var k=0;k<w.length;k++){var _=w[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(C,_.key,_)}}return function(C,w,k){return w&&R(C.prototype,w),k&&R(C,k),C}}();function A(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}var O={v:"1.4.0",hostAndPath:"webapi.amap.com/maps",key:"f97efc35164149d0c0f299e7a8adb3d2",callback:"__amap_init_callback",useAMapUI:!1},P=null,y=null,I=!1,S=function(){function R(C){var w=C.key,k=C.useAMapUI,_=C.version,s=C.protocol;A(this,R),this.config=d({},O,{useAMapUI:k,protocol:s}),typeof window!="undefined"&&(w?this.config.key=w:"amapkey"in window&&(this.config.key=window.amapkey)),_&&(this.config.v=_),this.protocol=s||window.location.protocol,this.protocol.indexOf(":")===-1&&(this.protocol+=":")}return b(R,[{key:"getScriptSrc",value:function(w){return this.protocol+"//"+w.hostAndPath+"?v="+w.v+"&key="+w.key+"&callback="+w.callback}},{key:"buildScriptTag",value:function(w){var k=document.createElement("script");return k.type="text/javascript",k.async=!0,k.defer=!0,k.src=w,k}},{key:"getAmapuiPromise",value:function(){var w=this.buildScriptTag(this.protocol+"//webapi.amap.com/ui/1.0/main-async.js"),k=new Promise(function(_){w.onload=function(){_()}});return document.body.appendChild(w),k}},{key:"getMainPromise",value:function(){var w=this,k=this.buildScriptTag(this.getScriptSrc(this.config)),_=new Promise(function(s){window[w.config.callback]=function(){s(),delete window[w.config.callback]}});return document.body.appendChild(k),_}},{key:"load",value:function(){if(typeof window=="undefined")return null;var w=this.config.useAMapUI;return P=P||this.getMainPromise(),w&&(y=y||this.getAmapuiPromise()),new Promise(function(k){P.then(function(){w&&y?y.then(function(){window.initAMapUI&&!I&&(window.initAMapUI(),typeof w=="function"&&w(),I=!0),k()}):k()})})}}]),R}();m.default=S},77162:function(W,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var d=typeof window!="undefined",b=m.toLnglat=function(y){if(!y||"getLng"in y&&"getLat"in y)return y;var I=0,S=0;return{}.toString.call(y)==="[object Array]"?(I=y[0],S=y[1]):"lng"in y&&"lat"in y?(I=y.lng,S=y.lat):"longitude"in y&&"latitude"in y&&(I=y.longitude,S=y.latitude),d?new window.AMap.LngLat(I,S):null},A=m.toPixel=function(y){if(!y||"getX"in y&&"getY"in y)return y;var I=0,S=0;return{}.toString.call(y)==="[object Array]"?(I=y[0],S=y[1]):"x"in y&&"y"in y&&(I=y.x,S=y.y),d?new window.AMap.Pixel(I,S):null},O=m.toSize=function(y){return!y||"getWidth"in y?y:d?new window.AMap.Size(y.width,y.height):null};m.default={toLnglat:b,toPixel:A,toSize:O}},16198:function(W,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var d=function(A){return!!A&&typeof A=="function"};m.default=d},92921:function(W,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var d={MARKER_ID_CONFLICT:"Marker \u7684 id \u5C5E\u6027\u91CD\u590D",MARKER_ID_REQUIRED:"\u6BCF\u4E00\u4E2A Marker \u5FC5\u9700\u6709\u4E00\u4E2A id \u5C5E\u6027",MAP_INSTANCE_REQUIRED:"\u6CA1\u6709\u5730\u56FE\u5B9E\u4F8B\uFF1B\u7EC4\u4EF6\u5FC5\u987B\u4F5C\u4E3A Map \u7684\u5B50\u7EC4\u4EF6\u4F7F\u7528",CIRCLE_INSTANCE_REQUIRED:"",CIRCLE_CENTER_REQUIRED:"Circle \u7EC4\u4EF6\u5FC5\u9700\u8BBE\u7F6E center \u5C5E\u6027",CIRCLE_RADIUS_REQUIRED:"Circle \u7EC4\u4EF6\u5FC5\u9700\u8BBE\u7F6E radius \u5C5E\u6027",SRC_REQUIRED:"GroundImage \u7EC4\u4EF6\u5FC5\u9700\u8BBE\u7F6E src \u5C5E\u6027",BOUNDS_REQUIRED:"GroundImage \u7EC4\u4EF6\u5FC5\u9700\u8BBE\u7F6E bounds \u5C5E\u6027",WINDOW_POSITION_REQUIRED:"InfoWindow \u7EC4\u4EF6\u5FC5\u9700\u8BBE\u7F6E position \u5C5E\u6027",INVALID_AMAP_PLUGIN:"plugins \u5C5E\u6027\u4E0D\u6B63\u786E\uFF1B\u76EE\u524D\u652F\u6301\u7684\u63D2\u4EF6\u6709'Scale', 'ToolBar', 'MapType', 'OverView'"},b=function(P){return P in d?d[P]:P},A={error:function(P){throw new Error(b(P))},warning:function(P){console.warn(b(P))},optimize:function(P){console.log("%c"+b(P),"color:#d4d483;border-left: 2px solid #d4d483;padding-left: 4px;")}};m.default=A},57107:function(W,m,d){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.renderMarkerComponent=m.getPropValue=m.MarkerAllProps=m.MarkerConfigurableProps=void 0;var b=d(77162),A=d(36047),O=S(A),P=d(55262),y=d(16198),I=S(y);function S(_){return _&&_.__esModule?_:{default:_}}var R=m.MarkerConfigurableProps=["position","offset","icon","content","draggable","visible","zIndex","angle","animation","shadow","title","clickable","extData","label"],C=m.MarkerAllProps=R.concat(["topWhenClick","bubble","raiseOnDrag","cursor","autoRotation","shape"]),w=m.getPropValue=function(s,a){return C.indexOf(s)===-1?null:s==="position"?(0,b.toLnglat)(a):s==="offset"?(0,b.toPixel)(a):a},k=m.renderMarkerComponent=function(s,a){var f=s;if((0,I.default)(s)){var e=a.getExtData();f=s(e)}f&&(0,P.render)(O.default.createElement("div",null,f),a.getContent())}},63549:function(W,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var d=function(A){return A[0].toUpperCase()+A.slice(1,A.length)};m.default=d},14738:function(W,m,d){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var b=Object.assign||function(_){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(_[f]=a[f])}return _},A=function(){function _(s,a){for(var f=0;f<a.length;f++){var e=a[f];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(s,a,f){return a&&_(s.prototype,a),f&&_(s,f),s}}(),O=d(36047),P=S(O),y=d(63549),I=S(y);function S(_){return _&&_.__esModule?_:{default:_}}function R(_,s){if(!(_ instanceof s))throw new TypeError("Cannot call a class as a function")}function C(_,s){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:_}function w(_,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);_.prototype=Object.create(s&&s.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(_,s):_.__proto__=s)}function k(_){return function(s){w(a,s);function a(f){R(this,a);var e=C(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f));return e.instanceCreated=!1,e.myMapComponent=null,e.registeredEvents=[],e.onInstanceCreated=e.onInstanceCreated.bind(e),e}return A(a,[{key:"onInstanceCreated",value:function(){if(this.instanceCreated=!0,"events"in this.props){var e=this.myMapComponent.instance;this.props.events.created&&this.props.events.created(e)}this.reactivePropChange(this.props,!1)}},{key:"createEventsProxy",value:function(e){var t=this,u=this.myMapComponent.instance,r=Object.keys(e.events||{});r.length&&r.forEach(function(n){t.registeredEvents.indexOf(n)===-1&&(t.registeredEvents.push(n),u.on(n,function(i){return function(){if(t.props.events&&i in t.props.events){for(var l=arguments.length,h=Array(l),M=0;M<l;M++)h[M]=arguments[M];t.props.events[i].apply(null,h)}}}(n)))})}},{key:"componentWillReceiveProps",value:function(e){this.reactivePropChange(e,!0)}},{key:"reactivePropChange",value:function(e){var t=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.instanceCreated)return!1;var r=this.myMapComponent,n=r.setterMap,i=n===void 0?{}:n,l=r.converterMap,h=l===void 0?{}:l,M=r.instance,x=M===void 0?{}:M,H=Object.keys(e);H.length&&H.forEach(function(N){if(N==="events")return t.createEventsProxy(e);var j=!0;if(u&&(j=t.detectPropChange(N,e,t.props)),!j)return!1;var E=e[N];if(N in h&&(E=h[N](e[N])),N in i)i[N](E);else{var p="set"+(0,I.default)(N);p in x&&x[p](E)}})}},{key:"detectPropChange",value:function(e,t,u){return t[e]!==u[e]}},{key:"render",value:function(){var e=this;return P.default.createElement(_,b({onInstanceCreated:this.onInstanceCreated,ref:function(u){e.myMapComponent=u}},this.props))}},{key:"componentWillUnmount",value:function(){var e=this.myMapComponent.instance;e&&("destroy"in e&&setTimeout(function(){e.destroy()},10),"hide"in e&&e.hide(),"__map__"in this.props&&"setMap"in e&&e.setMap(null))}}]),a}(P.default.Component)}m.default=k},89833:function(W,m,d){var b=d(30247);function A(O){if(Array.isArray(O))return b(O)}W.exports=A,W.exports.__esModule=!0,W.exports.default=W.exports},12895:function(W){function m(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}W.exports=m,W.exports.__esModule=!0,W.exports.default=W.exports},51283:function(W){function m(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}W.exports=m,W.exports.__esModule=!0,W.exports.default=W.exports},77566:function(W,m,d){var b=d(89833),A=d(12895),O=d(59045),P=d(51283);function y(I){return b(I)||A(I)||O(I)||P()}W.exports=y,W.exports.__esModule=!0,W.exports.default=W.exports}}]);
