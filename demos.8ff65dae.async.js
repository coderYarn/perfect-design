(self.webpackChunkperfect_map=self.webpackChunkperfect_map||[]).push([[433],{41978:function(v){"use strict";(function(l,t){v.exports=t()})(this,function(){function l(e){var f=[];return e.AMapUI&&f.push(t(e.AMapUI)),e.Loca&&f.push(h(e.Loca)),Promise.all(f)}function t(e){return new Promise(function(f,o){var i=[];if(e.plugins)for(var r=0;r<e.plugins.length;r+=1)a.AMapUI.plugins.indexOf(e.plugins[r])==-1&&i.push(e.plugins[r]);if(u.AMapUI===n.failed)o("\u524D\u6B21\u8BF7\u6C42 AMapUI \u5931\u8D25");else if(u.AMapUI===n.notload){u.AMapUI=n.loading,a.AMapUI.version=e.version||a.AMapUI.version,r=a.AMapUI.version;var A=document.body||document.head,c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/ui/"+r+"/main.js",c.onerror=function(s){u.AMapUI=n.failed,o("\u8BF7\u6C42 AMapUI \u5931\u8D25")},c.onload=function(){if(u.AMapUI=n.loaded,i.length)window.AMapUI.loadUI(i,function(){for(var s=0,U=i.length;s<U;s++){var E=i[s].split("/").slice(-1)[0];window.AMapUI[E]=arguments[s]}for(f();p.AMapUI.length;)p.AMapUI.splice(0,1)[0]()});else for(f();p.AMapUI.length;)p.AMapUI.splice(0,1)[0]()},A.appendChild(c)}else u.AMapUI===n.loaded?e.version&&e.version!==a.AMapUI.version?o("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):i.length?window.AMapUI.loadUI(i,function(){for(var s=0,U=i.length;s<U;s++){var E=i[s].split("/").slice(-1)[0];window.AMapUI[E]=arguments[s]}f()}):f():e.version&&e.version!==a.AMapUI.version?o("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):p.AMapUI.push(function(s){s?o(s):i.length?window.AMapUI.loadUI(i,function(){for(var U=0,E=i.length;U<E;U++){var x=i[U].split("/").slice(-1)[0];window.AMapUI[x]=arguments[U]}f()}):f()})})}function h(e){return new Promise(function(f,o){if(u.Loca===n.failed)o("\u524D\u6B21\u8BF7\u6C42 Loca \u5931\u8D25");else if(u.Loca===n.notload){u.Loca=n.loading,a.Loca.version=e.version||a.Loca.version;var i=a.Loca.version,r=a.AMap.version.startsWith("2"),A=i.startsWith("2");if(r&&!A||!r&&A)o("JSAPI \u4E0E Loca \u7248\u672C\u4E0D\u5BF9\u5E94\uFF01\uFF01");else{r=a.key,A=document.body||document.head;var c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/loca?v="+i+"&key="+r,c.onerror=function(s){u.Loca=n.failed,o("\u8BF7\u6C42 AMapUI \u5931\u8D25")},c.onload=function(){for(u.Loca=n.loaded,f();p.Loca.length;)p.Loca.splice(0,1)[0]()},A.appendChild(c)}}else u.Loca===n.loaded?e.version&&e.version!==a.Loca.version?o("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):f():e.version&&e.version!==a.Loca.version?o("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):p.Loca.push(function(s){s?o(s):o()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var n;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(n||(n={}));var a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},u={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},p={AMap:[],AMapUI:[],Loca:[]},m=[],d=function(e){typeof e=="function"&&(u.AMap===n.loaded?e(window.AMap):m.push(e))};return{load:function(e){return new Promise(function(f,o){if(u.AMap==n.failed)o("");else if(u.AMap==n.notload){var i=e.key,r=e.version,A=e.plugins;i?(window.AMap&&location.host!=="lbs.amap.com"&&o("\u7981\u6B62\u591A\u79CDAPI\u52A0\u8F7D\u65B9\u5F0F\u6DF7\u7528"),a.key=i,a.AMap.version=r||a.AMap.version,a.AMap.plugins=A||a.AMap.plugins,u.AMap=n.loading,r=document.body||document.head,window.___onAPILoaded=function(s){if(delete window.___onAPILoaded,s)u.AMap=n.failed,o(s);else for(u.AMap=n.loaded,l(e).then(function(){f(window.AMap)}).catch(o);m.length;)m.splice(0,1)[0]()},A=document.createElement("script"),A.type="text/javascript",A.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+a.AMap.version+"&key="+i+"&plugin="+a.AMap.plugins.join(","),A.onerror=function(s){u.AMap=n.failed,o(s)},r.appendChild(A)):o("\u8BF7\u586B\u5199key")}else if(u.AMap==n.loaded)if(e.key&&e.key!==a.key)o("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(e.version&&e.version!==a.AMap.version)o("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{if(i=[],e.plugins)for(r=0;r<e.plugins.length;r+=1)a.AMap.plugins.indexOf(e.plugins[r])==-1&&i.push(e.plugins[r]);i.length?window.AMap.plugin(i,function(){l(e).then(function(){f(window.AMap)}).catch(o)}):l(e).then(function(){f(window.AMap)}).catch(o)}else if(e.key&&e.key!==a.key)o("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(e.version&&e.version!==a.AMap.version)o("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{var c=[];if(e.plugins)for(r=0;r<e.plugins.length;r+=1)a.AMap.plugins.indexOf(e.plugins[r])==-1&&c.push(e.plugins[r]);d(function(){c.length?window.AMap.plugin(c,function(){l(e).then(function(){f(window.AMap)}).catch(o)}):l(e).then(function(){f(window.AMap)}).catch(o)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},u={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},p={AMap:[],AMapUI:[],Loca:[]}}}})},20539:function(v,l,t){"use strict";t.r(l);var h=t(36047),n=t(56987),a=t(17210),u=function(){return(0,a.jsx)("div",{children:(0,a.jsx)(n._F,{akay:"a7a90e05a37d3f6bf76d4a9032fc9129",mapStyle:"amap://styles/darkblue",children:(0,a.jsx)(n.D5,{zoom:5,center:[105.602725,37.076636]})})})};l.default=u},93289:function(v,l,t){"use strict";t.r(l);var h=t(36047),n=t(56987),a=t(17210);function u(){var p=(0,h.useRef)();return console.log(p),(0,a.jsx)("div",{style:{height:"300px"},children:(0,a.jsx)(n._F,{akay:"9ba7e2f5c979b67281c5833918d6dfa0",plugin:"AMap.Driving",children:(0,a.jsx)(n.D5,{ref:p})})})}l.default=u},70911:function(v,l,t){"use strict";t.r(l);var h=t(36047),n=t(56987),a=t(17210);function u(){return(0,a.jsx)("div",{style:{height:"300px"},children:(0,a.jsx)(n._F,{akay:"9ba7e2f5c979b67281c5833918d6dfa0",plugin:"AMap.Driving",children:(0,a.jsx)(n.D5,{center:[116.397428,39.90923],mapStyle:"amap://styles/darkblue"})})})}l.default=u},44620:function(v,l,t){"use strict";t.r(l);var h=t(36047),n=t(17210),a=function(){return(0,n.jsx)("div",{})};l.default=a},56987:function(v,l,t){"use strict";t.d(l,{_F:function(){return J},D5:function(){return K}});var h=t(84019),n=t.n(h),a=t(32061),u=t.n(a),p=t(7863),m=t.n(p),d=t(36047),e=function(M){(0,d.useEffect)(M,[])},f=e,o=function(M){f(function(){M()})},i=o,r=function(I){var y=(0,d.useState)(),g=m()(y,2),L=g[0],P=g[1];return(0,d.useEffect)(function(){P(I)},[I]),{currentMap:L}},A=t(80044),c=t.n(A),s=t(58518),U=t.n(s),E=t(39620),x=t.n(E),C=t(41978),R=t.n(C),S=function(){function M(){c()(this,M),x()(this,"mapStack",void 0),this.mapStack=new Map}return U()(M,[{key:"create",value:function(y,g){var L=this;return new Promise(function(P){R().load({key:g.akay,version:g.version,plugins:g.plugins}).then(function(O){var b=new O.Map(y,g);L.mapStack.set(y,b),P(L.mapStack.get(y))})})}},{key:"getMap",value:function(y){return this.mapStack.get(y)}}]),M}(),k=function(){var M=null;return function(){return M||(M=new S),M}}(),T=k,D=t(17210);function W(M,I){var y=T(),g=(0,d.useRef)(),L=(0,d.useState)(),P=m()(L,2),O=P[0],b=P[1];(0,d.useImperativeHandle)(I,function(){return{map:N}}),i(u()(n()().mark(function _(){var j;return n()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,y.create(g.current,{akay:"a7a90e05a37d3f6bf76d4a9032fc9129",mapStyle:"amap://styles/darkblue"});case 2:j=w.sent,b(j);case 4:case"end":return w.stop()}},_)})));var G=r(O),N=G.currentMap;return(0,D.jsx)("div",{ref:g,className:"map",style:{height:"800px"}})}var B=(0,d.forwardRef)(W),K=B,z=function(I,y){return React.Children.map(I,function(g){if(g.type.displayName===y)return g})};function F(M){var I=M.children;return(0,D.jsx)(D.Fragment,{children:I})}var J=F,H=function(){return _jsx("div",{})},$=null,Q=null},80044:function(v){function l(t,h){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}v.exports=l,v.exports.__esModule=!0,v.exports.default=v.exports},58518:function(v,l,t){var h=t(86671);function n(u,p){for(var m=0;m<p.length;m++){var d=p[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,h(d.key),d)}}function a(u,p,m){return p&&n(u.prototype,p),m&&n(u,m),Object.defineProperty(u,"prototype",{writable:!1}),u}v.exports=a,v.exports.__esModule=!0,v.exports.default=v.exports}}]);
